<app-navbar></app-navbar>
<div class="gradientLine"></div>
<div class="container-fluid">
	<div class="row">
	    
        <div class="col-md-8 col-sm-12 col-xs-12">                                   
	        <div class="col-md-4 col-sm-4 col-xs-12" style="padding: 4%;" *ngFor=" let product of products; let i = index ">
	            <div style="background-color: #f2f2f2;border-radius:12px;">
	            	<a routerLink="/" style="text-decoration: none"><img src="{{product.image}}" width="100%" height="200" style="border-radius:8px">
	                </a>
	                <div width="20px" class="text-center pull-right productPrice">{{product.price}} EGP</div>
	                <hr style="border-color:#dfdfdf;width: 85%">
	                <div class="row text-center">
	                	<span style="color:#616161;">{{product.title}}</span>
	                	<button class=" btn btn-default" (click)=" clicked(i) ">Add to cart</button>
	            	</div>
	            	<br>
	            </div>
			</div>
	    </div>	    
        <div class="col-md-4 col-md-offset-0 col-sm-10 col-sm-offset-1 col-xs-10 col-xs-offset-1 cartBorder">
            
            <div class="row">
				<h1 class="col-md-6 col-sm-6 col-xs-6">ITEMS</h1>
                <br>
				<button class="btn btn-default col-md-3 col-md-offset-3 col-xs-3 col-xs-offset-2" (click)="clear()">Clear</button>
	    	</div>                      
            
            <div class="row ">
                <table class="table table-striped table-responsive" >
                    <thead>
                      <tr>
                        <th>Image</th>                                                       
                        <th>Title & Price</th>
                        <th class="col-md-3 col-sm-3 col-xs-4">Quantity</th>
                        <th>Tools</th>
                      </tr>
                    </thead>
                    <tbody>
                    	<tr *ngFor="let product of receiptProducts; let i = index ">
                    		<td><img src="{{product.prodImage}}" width="50" height="50" /></td>
                    		<td>
                    			<span>{{product.prodTitle}}</span>
                    			<br>
                    			<span style="font-weight: bold">{{product.prodPrice}} EGP</span>
                    		</td>
                    		<td>  
                                <button class="btn btn-sm" style="background-color: #9eeecf;" (click)="minus(i,product.countVal)"><i class="fa fa-minus" aria-hidden="true"></i>
                                </button>

                                {{product.countVal}}
                                <button class="btn btn-sm" style="background-color: #9eeecf;margin-left: 6%" (click)="plus(i,product.countVal)"> <i class="fa fa-plus" aria-hidden="true">  </i>
                                </button>
                    		</td>
                    		<td class="text-center"> 
                                   
                                <button class="btn"  (click)="removeRow(i)" style="background-color: transparent;"><i class="fa fa-lg fa-trash" aria-hidden="true" style="color:#d78783;"></i>
                                </button>
                            </td>
                    	</tr>
                        <br>
                    </tbody>
                </table> 
                <div class="text-center payment"> PAY {{total}} EGP
                    <button type="button" class="btn btn-default"  style="border:none" data-toggle="modal" data-target="#myModal2">
                        <i class="fa fa-lg fa-shopping-cart"></i>
                    </button>
                    <!-- Modal -->
                    <div class="modal fade" id="myModal2" role="dialog">
                        <div class="modal-dialog">
                        
                            <!-- Modal content-->
                            <div class="modal-content">
                                <div class="modal-header">
                                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                                        <h4>Cash Payment</h4>            
                                </div>
                                <div class="modal-body">
                                    <div class="row">
                                        <h3 class="text-center">Total: <span style="font-size: 17px">{{total}}</span></h3>
                                    </div>
                                    <br>
                                    <div class="row">
                                        <div class="col-md-10 col-md-offset-1 col-sm-12 col-xs-12">                                           
                                            <form role="form" class="form-horizontal" #form="ngForm" (ngSubmit)="getPaidAmount(form.value)">
                                   
                                                <div class="col-md-6 col-sm-6 col-xs-6 p1" style="border-right: 1px solid #eeeeee ">
                                                    <p class="paidTitle">Paid</p>
                                                    <p><input type="text" name="paid" class="form-control" placeholder="Enter the amount paid" #paid="ngModel" ngModel></p>
                                                    <button class="btn btn-default" (click)="calculate()">calculate</button>
                                                </div>
                                                <div class="col-md-6 col-sm-6 col-xs-6 p2">
                                                    <p class="dueTitle">Due</p>
                                                    <p style="font-weight: bold;" class="text-center">{{due}}</p>
                                                </div>  

                                            </form>                                      
                                        </div>
                                    </div>
                                </div>                             
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default pull-left" >Print </button>
                                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                </div>
                            </div>                                 
                        </div>
                    </div>
                </div>     
            </div>
	    </div> 
    </div>
</div>